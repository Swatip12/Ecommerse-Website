<div class="confirmation-container">
  <!-- Loading State -->
  <div class="loading-state" *ngIf="isLoading">
    <div class="loading-spinner"></div>
    <p>Loading order details...</p>
  </div>

  <!-- Error State -->
  <div class="error-state" *ngIf="error && !isLoading">
    <div class="error-icon">
      <i class="material-icons">error_outline</i>
    </div>
    <h2>Unable to Load Order</h2>
    <p>{{ error }}</p>
    <button class="btn btn-primary" (click)="continueShopping()">
      Continue Shopping
    </button>
  </div>

  <!-- Success State -->
  <div class="confirmation-content" *ngIf="order && !isLoading">
    <!-- Success Header -->
    <div class="success-header">
      <div class="success-icon">
        <i class="material-icons">check_circle</i>
      </div>
      <h1>Order Confirmed!</h1>
      <p class="success-message">
        Thank you for your order. We've received your order and will begin processing it soon.
      </p>
    </div>

    <!-- Order Summary Card -->
    <div class="order-summary-card">
      <div class="order-header">
        <div class="order-info">
          <h2>Order #{{ order.orderNumber }}</h2>
          <p class="order-date">Placed on {{ formatDate(order.createdAt) }}</p>
        </div>
        <div class="order-status">
          <span class="status-badge" [ngClass]="getOrderStatusColorClass()">
            {{ getOrderStatusDisplayName() }}
          </span>
        </div>
      </div>

      <!-- Order Items -->
      <div class="order-items">
        <h3>Items Ordered</h3>
        <div class="items-list">
          <div class="order-item" *ngFor="let item of order.orderItems">
            <div class="item-image">
              <img src="/assets/images/product-placeholder.png" 
                   [alt]="item.productName">
            </div>
            <div class="item-details">
              <div class="item-name">{{ item.productName }}</div>
              <div class="item-sku">SKU: {{ item.productSku }}</div>
              <div class="item-quantity">Quantity: {{ item.quantity }}</div>
              <div class="item-price">{{ formatCurrency(item.unitPrice) }} each</div>
            </div>
            <div class="item-total">
              {{ formatCurrency(item.totalPrice) }}
            </div>
          </div>
        </div>
      </div>

      <!-- Order Totals -->
      <div class="order-totals">
        <div class="total-line">
          <span>Subtotal:</span>
          <span>{{ formatCurrency(order.subtotal) }}</span>
        </div>
        <div class="total-line">
          <span>Tax:</span>
          <span>{{ formatCurrency(order.taxAmount) }}</span>
        </div>
        <div class="total-line">
          <span>Shipping:</span>
          <span>{{ order.shippingAmount === 0 ? 'FREE' : formatCurrency(order.shippingAmount) }}</span>
        </div>
        <div class="total-line grand-total">
          <span>Total:</span>
          <span>{{ formatCurrency(order.totalAmount) }}</span>
        </div>
      </div>
    </div>

    <!-- Delivery Information -->
    <div class="delivery-info-card">
      <h3>Delivery Information</h3>
      <div class="delivery-content">
        <div class="delivery-estimate">
          <div class="estimate-icon">
            <i class="material-icons">local_shipping</i>
          </div>
          <div class="estimate-details">
            <h4>Estimated Delivery</h4>
            <p class="delivery-date">{{ getEstimatedDeliveryDate() }}</p>
            <p class="delivery-note">We'll send you tracking information once your order ships.</p>
          </div>
        </div>
        
        <div class="shipping-address" *ngIf="order.shippingAddressId">
          <h4>Shipping Address</h4>
          <div class="address-details">
            <!-- TODO: Display actual shipping address when address service is implemented -->
            <p>Shipping address will be displayed here</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Payment Information -->
    <div class="payment-info-card">
      <h3>Payment Information</h3>
      <div class="payment-content">
        <div class="payment-status">
          <div class="payment-icon">
            <i class="material-icons">payment</i>
          </div>
          <div class="payment-details">
            <h4>Payment Status</h4>
            <p class="payment-status-text">
              <span [ngClass]="order.paymentStatus === 'PAID' ? 'text-green-600' : 'text-yellow-600'">
                {{ order.paymentStatus === 'PAID' ? 'Payment Confirmed' : 'Payment Pending' }}
              </span>
            </p>
            <p class="payment-method">Payment method: Credit Card ending in ****</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Next Steps -->
    <div class="next-steps-card">
      <h3>What's Next?</h3>
      <div class="steps-list">
        <div class="step-item">
          <div class="step-icon">
            <i class="material-icons">email</i>
          </div>
          <div class="step-content">
            <h4>Order Confirmation Email</h4>
            <p>We've sent a confirmation email with your order details.</p>
          </div>
        </div>
        
        <div class="step-item">
          <div class="step-icon">
            <i class="material-icons">inventory</i>
          </div>
          <div class="step-content">
            <h4>Order Processing</h4>
            <p>We'll prepare your items for shipment within 1-2 business days.</p>
          </div>
        </div>
        
        <div class="step-item">
          <div class="step-icon">
            <i class="material-icons">local_shipping</i>
          </div>
          <div class="step-content">
            <h4>Shipping Updates</h4>
            <p>You'll receive tracking information once your order ships.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button class="btn btn-secondary" (click)="continueShopping()">
        <i class="material-icons">shopping_cart</i>
        Continue Shopping
      </button>
      
      <button class="btn btn-primary" (click)="viewOrderDetails()">
        <i class="material-icons">receipt</i>
        View Order Details
      </button>
      
      <button class="btn btn-outline" (click)="trackOrder()">
        <i class="material-icons">track_changes</i>
        Track Order
      </button>
    </div>

    <!-- Customer Support -->
    <div class="support-info">
      <h4>Need Help?</h4>
      <p>
        If you have any questions about your order, please contact our customer support team.
      </p>
      <div class="support-contacts">
        <a href="mailto:support@example.com" class="support-link">
          <i class="material-icons">email</i>
          support@example.com
        </a>
        <a href="tel:+1234567890" class="support-link">
          <i class="material-icons">phone</i>
          (123) 456-7890
        </a>
      </div>
    </div>
  </div>
</div>